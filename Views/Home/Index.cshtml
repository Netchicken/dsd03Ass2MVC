@using System.Collections
@using dsd03Ass2MVC.DTO
@model List<dsd03Ass2MVC.DTO.TopSalesDTO>

@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Welcome To the Bikeshop database</h1>
    <p> <a asp-controller="Customers" asp-action="Index">Enter a Customer </a> </p>
     <p> <a asp-controller="Stocks" asp-action="Index">Enter some Stock </a> </p>
      <p><a asp-controller="Orders" asp-action="Index">Make a Sale </a></p>

</div>
      <h2> 15 most expensive Products sold</h2>
<table>
   @foreach (var item in Model )  {
        <tr>
            <td>
                @item.ProductName  --- @item.Price  
                
            </td>
      </tr>
   }
      
</table>

 <h2>Count of Products sold</h2>
<table>
   @foreach (var item in (IEnumerable<MostSoldDTO>)ViewData["mostStockSoldTop15"]  )  {
        <tr>
            <td>
                @item.ProductName  --- @item.Count  
                
            </td>
      </tr>
   }
      
</table>

<h2>Q11 Stock Not sold</h2>
<table>
   @foreach (var item in (IEnumerable<string>)ViewData["StockNotSold"]  )  {
        <tr>
            <td>
                @item
                
            </td>
      </tr>
   }
      
</table>
<h2>Q12 Who Sold the Cheapest Stock?</h2>
<p>@ViewData["StaffWhoSoldCheapestStock"]</p>


<h2> 13.Create a list of customers names and the products they have purchased, grouped by Customer.</h2>
<table>
   @foreach (var item in (IEnumerable<CustomersAndPurchasesDTO>)ViewData["CustomersAndPurchases"]  )  {
        <tr>
            <td>
                @item.Name ... @item.ProductName
                
            </td>
      </tr>
   }
      
</table>


<h2> 14.	What is the name of the customer who has bought the greatest quantity of products?</h2>
<table>
   @foreach (var item in (IEnumerable<MostSoldDTO>)ViewData["CustomerBoughtMostItems"]  )  {
        <tr>
            <td>
                @item.Count ... @item.ProductName
                
            </td>
      </tr>
   }
      
</table>
@*</div>*@
